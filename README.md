# PKNU-Fest

ë¶€ê²½ëŒ€í•™êµ ì¶•ì œë¥¼ ìœ„í•œ í†µí•© í”Œë«í¼

## í”„ë¡œì íŠ¸ ê°œìš”

PKNU-FestëŠ” ë¶€ê²½ëŒ€í•™êµ ì¶•ì œ ì°¸ì—¬ì, ìš´ì˜ì§„, í‘¸ë“œíŠ¸ëŸ­ ìš´ì˜ìë¥¼ ìœ„í•œ í†µí•© ì›¹ í”Œë«í¼ì…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

**ì°¸ì—¬ì ê¸°ëŠ¥**

- GPS ê¸°ë°˜ ìº í¼ìŠ¤ ì§€ë„ë¡œ í–‰ì‚¬ ë° ë¶€ìŠ¤ ìœ„ì¹˜ í™•ì¸
- ì‹¤ì‹œê°„ í–‰ì‚¬ ê²€ìƒ‰ ë° í•„í„°ë§
- í”„ë¡œê·¸ë¨ ì˜ˆì•½ ë° QR ì²´í¬ì¸
- í‘¸ë“œíŠ¸ëŸ­ ìŠ¤ë§ˆíŠ¸ ì˜¤ë” ë° ê°„í¸ê²°ì œ
- í‘¸ì‹œ ì•Œë¦¼ì„ í†µí•œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸

**ìš´ì˜ì§„ ê¸°ëŠ¥**

- í–‰ì‚¬ ë“±ë¡ ë° ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ
- ì‹¤ì‹œê°„ ì˜ˆì•½ í˜„í™© ëª¨ë‹ˆí„°ë§
- ìë™ ë§ˆê° ì²˜ë¦¬
- ê³µì§€ì‚¬í•­ í‘¸ì‹œ ë°œì†¡
- ì°¸ì—¬ì í†µê³„ ë° ë¦¬í¬íŠ¸

**í‘¸ë“œíŠ¸ëŸ­ ìš´ì˜ì ê¸°ëŠ¥**

- ë©”ë‰´ ë“±ë¡ ë° ê´€ë¦¬
- ì‹¤ì‹œê°„ ì£¼ë¬¸ ê´€ë¦¬
- í”½ì—…ë²ˆí˜¸ ìë™ ë°œê¸‰
- ì¤€ë¹„ ì™„ë£Œ ì•Œë¦¼ ìë™ ì „ì†¡
- ë§¤ì¶œ ë¦¬í¬íŠ¸

## ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ

- **Framework**: Vite + React + TypeScript
- **Styling**: Tailwind CSS + shadcn/ui
- **Routing**: React Router v6
- **State Management**: Zustand + TanStack Query
- **Map**: Kakao Map API
- **Real-time**: Socket.io Client
- **Forms**: React Hook Form + Zod
- **QR Code**: react-qr-code

### ë°±ì—”ë“œ

- **Runtime**: Node.js
- **Framework**: Express + TypeScript
- **Database**: PostgreSQL
- **ORM**: Prisma
- **Real-time**: Socket.io
- **Authentication**: JWT + bcrypt

### ì¶”ê°€ ì„œë¹„ìŠ¤

- **Push Notifications**: Firebase Cloud Messaging
- **Payment**: í† ìŠ¤í˜ì´ë¨¼ì¸ 

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
PKNU-Fest/
â”œâ”€â”€ frontend/               # í”„ë¡ íŠ¸ì—”ë“œ (Vite + React)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ ui/        # shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ pages/         # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Admin/     # ê´€ë¦¬ì í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ Vendor/    # í‘¸ë“œíŠ¸ëŸ­ ìš´ì˜ì í˜ì´ì§€
â”‚   â”‚   â”œâ”€â”€ features/      # ê¸°ëŠ¥ë³„ ëª¨ë“ˆ
â”‚   â”‚   â”œâ”€â”€ hooks/         # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â”œâ”€â”€ api/           # API í˜¸ì¶œ
â”‚   â”‚   â”œâ”€â”€ stores/        # Zustand ìŠ¤í† ì–´
â”‚   â”‚   â”œâ”€â”€ types/         # TypeScript íƒ€ì…
â”‚   â”‚   â”œâ”€â”€ utils/         # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ lib/           # ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ backend/               # ë°±ì—”ë“œ (Node.js + Express)
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ controllers/   # ì»¨íŠ¸ë¡¤ëŸ¬
    â”‚   â”œâ”€â”€ services/      # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    â”‚   â”œâ”€â”€ routes/        # ë¼ìš°íŒ…
    â”‚   â”œâ”€â”€ middleware/    # ë¯¸ë“¤ì›¨ì–´
    â”‚   â”œâ”€â”€ types/         # TypeScript íƒ€ì…
    â”‚   â””â”€â”€ utils/         # ìœ í‹¸ë¦¬í‹°
    â”œâ”€â”€ prisma/            # Prisma ìŠ¤í‚¤ë§ˆ
    â”‚   â””â”€â”€ schema.prisma
    â””â”€â”€ package.json
```

## ì‹œì‘í•˜ê¸°

### ì‚¬ì „ ìš”êµ¬ì‚¬í•­

- Node.js (v18 ì´ìƒ)
- PostgreSQL (v14 ì´ìƒ)
- npm ë˜ëŠ” yarn

### ì„¤ì¹˜

1. ì €ì¥ì†Œ í´ë¡ 

```bash
git clone <repository-url>
cd PKNU-Fest
```

2. í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì¹˜

```bash
cd frontend
npm install
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```

3. ë°±ì—”ë“œ ì„¤ì¹˜

```bash
cd ../backend
npm install
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ í•„ìš”í•œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```

4. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

```bash
# PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± í›„
npx prisma migrate dev
npx prisma generate
```

### ê°œë°œ ì„œë²„ ì‹¤í–‰

1. ë°±ì—”ë“œ ì‹¤í–‰

```bash
cd backend
npm run dev
```

2. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰ (ìƒˆ í„°ë¯¸ë„)

```bash
cd frontend
npm run dev
```

í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:5173
ë°±ì—”ë“œ: http://localhost:3000

## API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦

- `POST /api/auth/register` - íšŒì›ê°€ì… (ì¼ë°˜ ì´ë©”ì¼)
- `POST /api/auth/login` - ë¡œê·¸ì¸
- `POST /api/auth/logout` - ë¡œê·¸ì•„ì›ƒ
- `GET /api/auth/me` - ë‚´ ì •ë³´ ì¡°íšŒ
- `PUT /api/auth/me` - ë‚´ ì •ë³´ ìˆ˜ì •
- `POST /api/auth/verify-student` - ğŸ†• í•™ìƒ ì¸ì¦ ì½”ë“œ ë°œì†¡
- `POST /api/auth/confirm-student` - ğŸ†• í•™ìƒ ì¸ì¦ ì½”ë“œ í™•ì¸

### í–‰ì‚¬

- `GET /api/events` - í–‰ì‚¬ ëª©ë¡ ì¡°íšŒ (í•„í„°: `?studentOnly=true`)
- `GET /api/events/:id` - í–‰ì‚¬ ìƒì„¸ ì¡°íšŒ
- `POST /api/events` - í–‰ì‚¬ ë“±ë¡ (ê´€ë¦¬ì)
  - ì§€ì›: `isStudentOnly`, `capacity` (nullable), `thumbnail`, `images`, `status`, `organizer`
- `PUT /api/events/:id` - í–‰ì‚¬ ìˆ˜ì • (ê´€ë¦¬ì)
- `DELETE /api/events/:id` - í–‰ì‚¬ ì‚­ì œ (ê´€ë¦¬ì)

### ì˜ˆì•½

- `GET /api/reservations` - ë‚´ ì˜ˆì•½ ëª©ë¡
- `POST /api/reservations` - ì˜ˆì•½ ìƒì„±
  - í•™ìƒ ì „ìš© í–‰ì‚¬ëŠ” í•™ìƒ ì¸ì¦ í•„ìˆ˜
  - `partySize` ì§€ì› (1-4ëª…)
- `DELETE /api/reservations/:id` - ì˜ˆì•½ ì·¨ì†Œ
- `POST /api/reservations/:id/checkin` - QR ì²´í¬ì¸
  - `checkedInAt` ìë™ ì„¤ì •

### í‘¸ë“œíŠ¸ëŸ­

- `GET /api/foodtrucks` - í‘¸ë“œíŠ¸ëŸ­ ëª©ë¡
- `GET /api/foodtrucks/:id` - í‘¸ë“œíŠ¸ëŸ­ ìƒì„¸
- `GET /api/foodtrucks/:id/menu` - ë©”ë‰´ ì¡°íšŒ

### ì£¼ë¬¸

- `POST /api/orders` - ì£¼ë¬¸ ìƒì„±
- `GET /api/orders/:id` - ì£¼ë¬¸ ìƒíƒœ ì¡°íšŒ
- `PUT /api/orders/:id/status` - ì£¼ë¬¸ ìƒíƒœ ë³€ê²½ (ìš´ì˜ì)

## ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

ì£¼ìš” í…Œì´ë¸”:

- `users` - ì‚¬ìš©ì (í•™ìƒ, ìš´ì˜ì§„, í‘¸ë“œíŠ¸ëŸ­ ìš´ì˜ì)
- `events` - í–‰ì‚¬/í”„ë¡œê·¸ë¨
- `time_slots` - ì‹œê°„ëŒ€ë³„ ì˜ˆì•½
- `reservations` - ì˜ˆì•½
- `food_trucks` - í‘¸ë“œíŠ¸ëŸ­
- `menu_items` - ë©”ë‰´
- `orders` - ì£¼ë¬¸
- `order_items` - ì£¼ë¬¸ ì•„ì´í…œ

ìì„¸í•œ ìŠ¤í‚¤ë§ˆëŠ” `backend/prisma/schema.prisma` ì°¸ì¡°

## ë°°í¬

### í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ

```bash
cd frontend
npm run build
```

### ë°±ì—”ë“œ ë¹Œë“œ

```bash
cd backend
npm run build
npm start
```
